# Output table structure and column definitions

output_table:
  name: "aerospace_supplier_candidates"
  description: "Tier-2 aerospace supplier candidates from UK OSM data"
  columns:
    # Identification columns
    - name: osm_id
      type: bigint
      description: "Original OSM object ID"
    - name: osm_type
      type: varchar(50)
      description: "Source OSM table"
    - name: name
      type: text
      description: "Primary name (fallback to operator or brand)"
    - name: operator
      type: text
      description: "Operating company"

    # Contact information
    - name: website
      type: text
      description: "Website URL (fallback to contact:website)"
    - name: phone
      type: text
      description: "Phone number (fallback to contact:phone)"

    # Address components
    - name: postcode
      type: varchar(20)
      description: "UK postal code"
    - name: street_address
      type: text
      description: "Street address"
    - name: city
      type: text
      description: "City (fallback to town)"

    # Industrial classification
    - name: landuse_type
      type: text
      description: "Land use type"
    - name: building_type
      type: text
      description: "Building type"
    - name: industrial_type
      type: text
      description: "Industrial classification (fallback to craft)"
    - name: office_type
      type: text
      description: "Office classification"

    # Descriptive information
    - name: description
      type: text
      description: "Description"

    # Spatial data
    - name: geometry
      type: geometry
      description: "PostGIS geometry"
    - name: latitude
      type: double precision
      description: "Latitude (centroid)"
    - name: longitude
      type: double precision
      description: "Longitude (centroid)"

    # Scoring and tier
    - name: aerospace_score
      type: integer
      description: "Computed aerospace relevance score"
    - name: tier_classification
      type: varchar(50)
      description: "Supplier tier classification"
    - name: matched_keywords
      type: text[]
      description: "List of matched keywords"

    # Metadata
    - name: confidence_level
      type: varchar(20)
      description: "Computed confidence level"
    - name: created_at
      type: timestamp
      description: "Record creation timestamp"
    - name: source_table
      type: varchar(50)
      description: "Original source table name"
